<HTML
><HEAD
><TITLE
>PHP3 Installation Guide for Windows</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.41"><LINK
REL="HOME"
TITLE="PHP3 Manual"
HREF="manual.html"><LINK
REL="UP"
TITLE="Installation"
HREF="installation.html"><LINK
REL="PREVIOUS"
TITLE="Installation"
HREF="installation.html"><LINK
REL="NEXT"
TITLE="Problems?"
HREF="install-problems.html"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PHP3 Manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="installation.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 2. Installation</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="install-problems.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="INSTALL-WINDOWS95-NT"
>PHP3 Installation Guide for Windows</A
></H1
><P
>    This install guide will help you install and configure PHP3 on
    your Windows 9x/NT webservers. This guide was compiled by
    <A
HREF="mailto:bob_silva@mail.umesd.k12.or.us"
TARGET="_top"
>Bob Silva</A
>. The latest revision can be found at <A
HREF="http://www.umesd.k12.or.us/php/win32install.html"
TARGET="_top"
>http://www.umesd.k12.or.us/php/win32install.html</A
>.

   </P
><P
>    This guide provides installation support for:
    <P
></P
><TABLE
BORDER="0"
><TR
><TD
>      Personal Web Server (Newest version recommended)
     </TD
></TR
><TR
><TD
>      Internet Information Server 3 or 4
     </TD
></TR
><TR
><TD
>      Apache 1.3.x
     </TD
></TR
><TR
><TD
>Omni HTTPd 2.0b1
     </TD
></TR
></TABLE
><P
></P
>

 
   </P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN505"
>Configuration Changes for PHP3</A
></H2
><P
>     All modules are now prefixed with 'php3_'. You will need to
     change your <A
HREF="configuration.html#PHP3.INI"
>php3.ini</A
> file and/or
     any scripts loading extensions with the <A
HREF="function.dl.html"
><B
CLASS="FUNCTION"
>dl()</B
></A
>
     function (or you could always remove the 'php3_' prefix). This
     will prevent confusion between php modules and their supporting
     libraries.
    </P
><P
>     The <A
HREF="http://www.php.net/ChangeLog.php3"
TARGET="_top"
>ChangeLog</A
>, <A
HREF="http://www.php.net/FAQ.php3"
TARGET="_top"
>FAQ</A
> and updated documentation can
     always be found at the offical PHP website or any of its mirrors.

   </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN513"
>General Installation Steps</A
></H2
><P
>     The following steps should be performed on all installations
     before the server specific instructions.

     <P
></P
><UL
><LI
><P
>	Extract the distribution file to a directory of your choice.
	"C:\PHP3\" is a good start.
       </P
></LI
><LI
><P
>	Copy the file, 'php3-dist.ini' to your '%WINDOWS%' directory
	and rename it to 'php3.ini'. Your '%WINDOWS%' directory is
	typically:
	<P
></P
><TABLE
BORDER="0"
><TR
><TD
>c:\windows for Windows 95/98</TD
></TR
><TR
><TD
>c:\winnt or c:\winnt40 for NT servers</TD
></TR
></TABLE
><P
></P
>
       </P
></LI
><LI
><P
>	Edit your 'php3.ini' file:
	<P
></P
><UL
><LI
><P
>	   You will need to change the 'extension_dir' setting to
	   point to your php-install-dir, or where you have placed
	   your 'php3_*.dll' files. ex: c:\php3
	  </P
></LI
><LI
><P
>	   Set the 'doc_root' to point to your webservers
	   document_root. ex: c:\apache\htdocs or c:\webroot
	  </P
></LI
><LI
><P
>	   Choose which modules you would like to load when PHP
	   starts. You can uncomment the: 'extension=php3_*.dll' lines
	   to load these modules. Some modules require you to have
	   additional libraries installed on your system for the
	   module to work correctly. The PHP <A
HREF="http://www.php.net/FAQ.php3"
TARGET="_top"
>FAQ</A
> has more information on
	   where to get supporting libraries. You can also load a
	   module dynamically in your script using:
	   <B
CLASS="COMMAND"
>dl("php_*.dll");</B
>
	  </P
></LI
><LI
><P
>	   On PWS and IIS, you can set the browscap.ini to point to:
	   'c:\windows\system\inetsrv\browscap.ini' on Windows 95/98
	   und 'c:\winnt\system32\inetsrv\browscap.ini' on NT
	   Server. Additional information on using the browscap
	   functionality in PHP can be found at this <A
HREF="http://www.netvision.net.il/browser-id.php3"
TARGET="_top"
>mirror</A
>, select the "source"
	   button to see it in action.
	  </P
></LI
></UL
>
       </P
></LI
></UL
>

    </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN538"
>Windows 95/98/NT and PWS/IIS 3</A
></H2
><P
>      The recommended method for configuring these servers is to use
      the INF file included with the distribution
      (php_iis_reg.inf). You may want to edit this file and make sure
      the extensions and PHP install directories match your
      configuration. Or you can follow the steps below to do it
      manually.
     </P
><P
>      WARNING: These steps involve working directly with the windows
      registry. One error here can leave your system in an unstable
      state. We highly recommend that you back up your registry
      first. The PHP Development team will not be held responsible if
      you damage your registry.
     </P
><P
>     <P
></P
><UL
><LI
><P
>	Run Regedit.
       </P
></LI
><LI
><P
>	Navigate to: <TT
CLASS="LITERAL"
>HKEY_LOCAL_MACHINE /System
	 /CurrentControlSet /Services /W3Svc /Parameters
	 /ScriptMap</TT
>. 
       </P
></LI
><LI
><P
>	On the edit menu select: <TT
CLASS="LITERAL"
>New-&#62;String Value</TT
>.
       </P
></LI
><LI
><P
>	Type in the extension you wish to use for your php
	scripts. ex: <TT
CLASS="LITERAL"
>.php3</TT
>
       </P
></LI
><LI
><P
>	Double click on the new string value and enter the path to
	<TT
CLASS="LITERAL"
>php.exe</TT
> in the value data field. ex:
	<TT
CLASS="LITERAL"
>c:\php3\php.exe %s %s</TT
>. The '%s %s' is VERY
	important, PHP will not work properly without it.
       </P
></LI
><LI
><P
>	Repeat these steps for each extension you wish to associate
	with PHP scripts.
       </P
></LI
><LI
><P
>	Now navigate to: <TT
CLASS="LITERAL"
>HKEY_CLASSES_ROOT</TT
>
       </P
></LI
><LI
><P
>	On the edit menu select: <TT
CLASS="LITERAL"
>New-&#62;Key</TT
>.
       </P
></LI
><LI
><P
>	Name the key to the extension you setup in the previous
	section. ex: <TT
CLASS="LITERAL"
>.php3</TT
>
       </P
></LI
><LI
><P
>	Highlight the new key and in the right side pane, double click 
	the "default value" and enter <TT
CLASS="LITERAL"
>phpfile</TT
>.
       </P
></LI
><LI
><P
>	Repeat the last step for each extension you set up in the
	previous section.
       </P
></LI
><LI
><P
>	Now create another <TT
CLASS="LITERAL"
>New-&#62;Key</TT
> under
	<TT
CLASS="LITERAL"
>HKEY_CLASSES_ROOT</TT
> and name it
	<TT
CLASS="LITERAL"
>phpfile</TT
>. 
       </P
></LI
><LI
><P
>	Highlight the new key <TT
CLASS="LITERAL"
>phpfile</TT
> and in the
	right side pane, double click the "default value" and enter
	<TT
CLASS="LITERAL"
>PHP Script</TT
>.
       </P
></LI
><LI
><P
>	Right click on the <TT
CLASS="LITERAL"
>phpfile</TT
> key and select
	<TT
CLASS="LITERAL"
>New-&#62;Key</TT
>, name it <TT
CLASS="LITERAL"
>Shell</TT
>.
       </P
></LI
><LI
><P
>	Right click on the <TT
CLASS="LITERAL"
>Shell</TT
> key and select
	<TT
CLASS="LITERAL"
>New-&#62;Key</TT
>, name it <TT
CLASS="LITERAL"
>open</TT
>.
       </P
></LI
><LI
><P
>	Right click on the <TT
CLASS="LITERAL"
>open</TT
> key and select
	<TT
CLASS="LITERAL"
>New-&#62;Key</TT
>, name it
	<TT
CLASS="LITERAL"
>command</TT
>. 
       </P
></LI
><LI
><P
>	Highlight the new key <TT
CLASS="LITERAL"
>command</TT
> and in the
	right side pane, double click the "default value" and enter
	the path to <TT
CLASS="LITERAL"
>php.exe</TT
>. ex:
	<TT
CLASS="LITERAL"
>c:\php3\php.exe -q %1</TT
>. (don't forget the
	<TT
CLASS="LITERAL"
>%1</TT
>). 
       </P
></LI
><LI
><P
>	Exit Regedit.
       </P
></LI
></UL
>

     </P
><P
>      PWS and IIS 3 users now have a fully operational system. IIS 3
      users can use a nifty <A
HREF="http://www.genusa.com/iis/iiscfg.html"
TARGET="_top"
>tool</A
> from
      Steven Genusa to configure their script maps.
     </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN609"
>Windows NT and IIS 4</A
></H2
><P
>     To install PHP3 on an NT Server running IIS 4, follow these
     instructions: 
    </P
><P
>     <P
></P
><UL
><LI
><P
>	In Internet Service Manager (MMC), select the Web site or the
	starting point directory of an application.
       </P
></LI
><LI
><P
>	Open the directory's property sheets (by right clicking and
	selecting properties), and then click the Home Directory,
	Virtual Directory, or Directory tab.
       </P
></LI
><LI
><P
>	Click the Configuration button, and then click the App
	Mappings tab.
       </P
></LI
><LI
><P
>	Click Add, and in the Executable box, type:
	<TT
CLASS="LITERAL"
>c:\path-to-php-dir\php.exe %s %s</TT
>. You MUST
	have the %s %s on the end, PHP will not function properly if
	you fail to do this. 
       </P
></LI
><LI
><P
>	In the Extension box, type the file name extension you want
	associated with PHP scripts. (You must repeat step 5 and 6 for 
	each extension you want accociated with PHP
	scripts. (<TT
CLASS="LITERAL"
>.php3</TT
> and
	<TT
CLASS="LITERAL"
>.phtml</TT
> are common)
       </P
></LI
><LI
><P
>	Set up the appropriate security. (This is done in Internet
	Service Manager), and if your NT Server uses NTFS file system, 
	add execute rights for I_USR_ to the directory that contains
	<TT
CLASS="LITERAL"
>php.exe</TT
>. 
       </P
></LI
></UL
>
    </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN630"
>Windows 9x/NT and Apache 1.3.x</A
></H2
><P
>     You must edit your <TT
CLASS="LITERAL"
>srm.conf</TT
> or
     <TT
CLASS="LITERAL"
>httpd.conf</TT
> to configure Apache to work with
     the PHP CGI binary.
    </P
><P
>     Although there can be a few variations of configuring PHP under
     Apache, this one is simple enough to be used by the
     newcomer. Please consult the Apache Docs for further
     configuration directives.

    </P
><P
>     <P
></P
><UL
><LI
><P
>	<TT
CLASS="LITERAL"
>ScriptAlias /php3/
	 "c:/path-to-php-dir/"</TT
>
       </P
></LI
><LI
><P
>	<TT
CLASS="LITERAL"
>AddType application/x-httpd-php3 .php3</TT
>
       </P
></LI
><LI
><P
>	<TT
CLASS="LITERAL"
>AddType application/x-httpd-php3 .phtml</TT
>
       </P
></LI
><LI
><P
>	<TT
CLASS="LITERAL"
>Action application/x-httpd-php3 "/php3/php.exe"</TT
>
       </P
></LI
></UL
>
    </P
><P
>     To use the source code highlighting feature, simply create a PHP
     script file and stick this code in: <TT
CLASS="LITERAL"
>&lt;?php show_source
     ("original_php_script.php3"); ?&#62;</TT
>. Substitute
     <TT
CLASS="LITERAL"
>original_php_script.php3</TT
> with the name of the
     file you wish to show the source of. (this is only one way of
     doing it). <I
CLASS="EMPHASIS"
>Note:</I
> On Win-Apache all back
     slashes in a path statement such as: "c:\directory\file.ext",
     must be converted to forward slashes.
    </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN654"
>Omni HTTPd 2.0b1 for Windows</A
></H2
><P
>      This has got to be the easiest config there is:
     </P
><P
>     <P
></P
><TABLE
BORDER="0"
><TR
><TD
>       Step 1: Install Omni server
      </TD
></TR
><TR
><TD
>       Step 2: Right click on the blue OmniHTTPd icon in the system
       tray and select <TT
CLASS="LITERAL"
>Properties</TT
>
      </TD
></TR
><TR
><TD
>       Step 3: Click on <TT
CLASS="LITERAL"
>Web Server Global
	Settings</TT
>
      </TD
></TR
><TR
><TD
>       Step 4: On the 'External' tab, enter: <TT
CLASS="LITERAL"
>virtual = .php3
       | actual = c:\path-to-php-dir\php.exe</TT
>
      </TD
></TR
><TR
><TD
>       Step 5: On the <TT
CLASS="LITERAL"
>Mime</TT
> tab, enter:
       <TT
CLASS="LITERAL"
>virtual = wwwserver/stdcgi | actual = .php3</TT
>
      </TD
></TR
><TR
><TD
>       Step 6: Click <TT
CLASS="LITERAL"
>OK</TT
>
      </TD
></TR
></TABLE
><P
></P
>

     </P
><P
>      Repeat steps 2 - 6 for each extension you want to associate with
      PHP.
     </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN672"
>PHP Modules</A
></H2
><P
>     <DIV
CLASS="TABLE"
><P
><B
>Table 2-1. PHP Modules</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_calendar.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Calendar conversion functions</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_crypt.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Crypt functions</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_dbase.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>DBase functions</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_dbm.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>GDBM emulation via Berkely DB2 library</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_filepro.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>READ ONLY access to filepro databases</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_gd.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>GD Library functions for gif manipulation</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_hyperwave.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>HyperWave functions</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_imap4r2.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>IMAP 4 functions</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_ldap.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>LDAP functions</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_msql1.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>mSQL 1 client</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_msql2.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>mSQL 2 client</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_mssql.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>MSSQL client (requires MSSQL DB-Libraries</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_mysql.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>MySQL functions</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_nsmail.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Netscape mail functions</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_oci73.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>Oracle functions</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_snmp.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>SNMP get and walk functions (NT only!)</TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
>php3_zlib.dll</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
>ZLib functions</TD
></TR
></TABLE
></DIV
>
     </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="installation.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="manual.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="install-problems.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Installation</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="installation.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Problems?</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>